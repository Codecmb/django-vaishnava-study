{% extends 'study_app/base.html' %}
{% load i18n %}

{% block content %}
<div style="padding: 20px;">
    <a href="{% url 'study_app:index' %}" style="color: blue; text-decoration: none;">
        ← {% trans "Back to Courses" %}
    </a>
    
    <h1 style="color: green;">{{ course.name }}</h1>
    <p>{{ course.description_en }}</p>
    
    <h2>{% trans "Books in this Course" %}</h2>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
        {% for book in books %}
        <div style="border: 1px solid #ddd; padding: 20px; border-radius: 8px; background: white;">
            <h3 style="margin-top: 0;">{{ book.title }}</h3>
            
            <!-- IMPORTANT: Link to INTERNAL book page, not external site -->
            <a href="{% url 'study_app:book_detail' book.id %}" 
               style="background: #007bff; color: white; padding: 10px 15px; text-decoration: none; border-radius: 5px; display: inline-block; margin-bottom: 10px;">
                📚 {% trans "Study This Book" %}
            </a>
            
            <div style="margin-top: 10px;">
                <small>
                    <a href="{{ book.english_url }}" target="_blank" style="color: #007bff;">{% trans "Read Online (English)" %}</a> | 
                    <a href="{{ book.spanish_url }}" target="_blank" style="color: #28a745;">{% trans "Read Online (Spanish)" %}</a>
                </small>
            </div>
        </div>
        {% empty %}
        <p>{% trans "No books available for this course yet." %}</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
