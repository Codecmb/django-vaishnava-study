{% load i18n %}
<nav class="navbar">
    <div class="container" style="display: flex; justify-content: space-between; align-items: center; height: 70px;">
        <div style="display: flex; align-items: center;">
            <a href="{% url 'study_app:index' %}" class="nav-link" style="font-size: 1.5em; font-weight: bold;">
                ğŸ•‰ï¸ {% trans "Vaishnava Study" %}
            </a>
        </div>
        
        <div style="display: flex; align-items: center; gap: 10px;">
            <a href="{% url 'study_app:index' %}" class="nav-link">{% trans "Home" %}</a>
            
            <div class="dropdown">
                <a href="#" class="nav-link">{% trans "Courses" %} â–¼</a>
                <div class="dropdown-menu">
                    <a href="{% url 'study_app:index' %}#courses" class="nav-link">
                        {% trans "All Courses" %}
                    </a>
                    <div style="border-top: 1px solid var(--light-border); margin: 5px 0;"></div>
                    {% for course in all_courses %}
                    <a href="{% url 'study_app:course_detail' course.id %}" class="nav-link">
                        {{ course.get_level_display }}
                    </a>
                    {% endfor %}
                </div>
            </div>
            
            <div class="dropdown">
                <a href="#" class="nav-link">{% trans "Upload" %} â–¼</a>
                <div class="dropdown-menu">
                    <a href="{% url 'study_app:upload_qa' %}" class="nav-link">
                        ğŸ“ {% trans "Upload Q&A" %}
                    </a>
                    <a href="{% url 'study_app:upload_study_material' %}" class="nav-link">
                        ğŸ“š {% trans "Upload Study Materials" %}
                    </a>
                </div>
            </div>
            
            <form action="{% url 'set_language' %}" method="post" style="display: inline;">
                {% csrf_token %}
                <input name="next" type="hidden" value="{{ redirect_to }}">
                <select name="language" onchange="this.form.submit()" class="language-switcher">
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% get_language_info_list for LANGUAGES as languages %}
                    {% for language in languages %}
                        <option value="{{ language.code }}" {% if language.code == LANGUAGE_CODE %}selected{% endif %}>
                            {{ language.name_local }}
                        </option>
                    {% endfor %}
                </select>
            </form>

            <!-- Login Button - Added here -->
            {% if user.is_authenticated %}
                <a href="{% url 'admin:index' %}" class="nav-link">{% trans "Admin" %}</a>
                <a href="{% url 'logout' %}" class="nav-link">{% trans "Logout" %}</a>
            {% else %}
                <a href="{% url 'login' %}" class="nav-link">{% trans "Login" %}</a>
            {% endif %}
        </div>
    </div>
</nav>
